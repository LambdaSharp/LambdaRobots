{
    "Comment": "LambdaRobots game loop state machine",

    "StartAt": "GameLoop",
    "States": {

      "GameLoop": {
        "Type": "Task",
        "Resource": "${GameLoopFunction.Arn}",
        "NextState": "CheckIfContinue"
      },

      "CheckIfContinue": {
        "Type": "Choice",
        "Choices": [
            {
                "Variable": "$.State",
                "StringEquals": "Continue",
                "NextState": "GameLoop"
            }
        ],
        "Default": "Finished"
      },

      "Finished": {
          "Type": "Succeeds"
      }
    }
  }